# nextest configuration for CrustyClaw
# Install: cargo install cargo-nextest
# Run:     cargo nextest run --workspace

[store]
dir = "target/nextest"

# Default profile (local development)
[profile.default]
retries = 0
slow-timeout = { period = "60s", terminate-after = 2 }
fail-fast = true

# CI profile â€” retries flaky tests, captures JUnit XML
[profile.ci]
retries = 2
fail-fast = false
slow-timeout = { period = "120s", terminate-after = 3 }
status-level = "all"
final-status-level = "flaky"

[profile.ci.junit]
path = "results.xml"
report-name = "crustyclaw-tests"
